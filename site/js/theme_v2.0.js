(()=>{"use strict";(()=>{const{log:e,error:t}=console,r="",s=window,a=document;if(atob(s.ghost||r).split(",").indexOf(s.location.host)<0)return;const n=e=>Object.prototype.toString.call(e),o=e=>typeof e,c=e=>o(e)===o(""),i=Array.isArray?e=>Array.isArray(e):e=>n(e)===n([]),d=(e,t,r)=>{e.setAttribute(t,r)},m=e=>new Set((e||"").split(/\s+/).filter(Boolean)),l=(e,t,r)=>{for(const r of m(t))e.classList.remove(r);for(const t of m(r))e.classList.add(t)},h=a.documentElement||a.body,y=s.matchMedia("(prefers-color-scheme: dark)"),f=localStorage,v="theme",g="themes",p="_dark",u=[r,p],O=()=>{var e=f.getItem(g);return c(e)&&(e=>{if(c(e))try{return JSON.parse(e)}catch(e){}})(e||r)||u},E=()=>{var e=f.getItem(v);return c(e)?e||r:y.matches?p:r};let I=O(),L=E();const b=(()=>{const e="color-scheme",t=(()=>{var t=a.getElementById("_color_scheme");if(!t){var r=a.getElementsByName(e);t=r[r.length-1]}return t||(t=a.createElement("meta"),d(t,"name",e),a.head&&a.head.appendChild(t)),t})(),r=e=>{d(t,"content",e)};return{set:r,sync:e=>{r(e&&c(e)&&e.startsWith(p)?"dark":"light")}}})(),A=e=>{l(h,e,L),b.sync(L)},S=(e,t)=>{var s=L;c(e)?L=e:i(e)&&(I=e,f.setItem(g,JSON.stringify(I)),L=I[t&&c(t)?I.indexOf(t):0]||r),s!=L&&(A(s),f.setItem(v,L||r))},k=()=>{var e=I[I.indexOf(L)+1];S(c(e)?e:I[0]||r)};var w,x;a.addEventListener("DOMContentLoaded",(()=>{A()})),s.addEventListener("pageshow",(e=>{if(e.persisted){var t=L;I=O(),L=E(),t!=L&&A(t)}})),s.addEventListener("keyup",(e=>{e.altKey&&"KeyT"===e.code&&k()})),s.theme=(w=s.theme,x={reset:()=>{I=u;var e=L;L=y.matches?p:r,A(e),f.removeItem(v),f.removeItem(g)},set:S,change:k,updateClass:l,list:()=>I,current:()=>L},Object.assign(w||{},x))})()})();