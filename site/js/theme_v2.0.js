(()=>{"use strict";(()=>{const e=e=>Object.prototype.toString.call(e),t=e=>typeof e,r=e=>t(e)===t(""),s=Array.isArray?e=>Array.isArray(e):t=>e(t)===e([]),n=window,o=document,a=o.documentElement||o.body,c=location.host,{log:i}=console,l=localStorage,d=(e,t,r,s)=>{e.addEventListener(t,r,s)},m=(e,t,r)=>{e.setAttribute(t,r)},h=e=>new Set((e||"").split(/\s+/).filter(Boolean)),g=(e,t,r)=>{for(const r of h(t))e.classList.remove(r);for(const t of h(r))e.classList.add(t)},y=(()=>{const e="color-scheme",t=(()=>{var t=o.getElementById("_color_scheme");if(!t){var r=o.getElementsByName(e);s(r)&&(t=r[r.length-1])}if(!t){t=o.createElement("meta");var n=[["name",e]];for(var a in n)m(t,n[a][0],n[a][1]);o.head&&o.head.appendChild(t)}return t})(),n=e=>{m(t,"content",e)};return{set:n,sync:e=>{e&&r(e)&&"_d"===e.substring(0,2)?n("dark"):n("light")}}})();if(!["localhost","techie-joe.github.io","themejs.pages.dev"].find((e=>c.endsWith(e))))return;i("Initializing ThemeJS ..");const f="",u="_dark",p=["",u],v="theme",O="themes",b=n.matchMedia("(prefers-color-scheme: dark)"),I=b.matches,S=(e=>{try{return JSON.parse(e||"[]")}catch(t){return console.error("Fail to parse stored themes: "+e),[]}})(l.getItem(O))||p;let j=(E=l.getItem(v))&&r(E)?E:I?u:null;var E;const A=(e,t)=>{var n=j||f;s(e)&&(Object.assign(S,e),l.setItem(O,JSON.stringify(S)),j=S[r(t)?S.indexOf(t||f):0]),j="string"==typeof e?e:f,g(a,n,j),y.sync(j),l.setItem(v,j||f)},L=()=>{A(S[S.indexOf(j||f)+1]||f)};o.addEventListener("DOMContentLoaded",(()=>{y.sync(j)})),d(b,"change",(()=>{A(I?u:f)})),d(n,"keyup",(e=>{e.altKey&&"KeyT"===e.code&&L()})),n.theme=Object.assign(n.theme||{},{reset:()=>{Object.assign(S,p);var e=j||f;j=I?u:f,g(a,e,j),y.sync(j),l.removeItem(v),l.removeItem(O)},set:A,change:L,list:()=>S,current:()=>j,updateClass:g}),i("ThemeJS loaded.")})()})();