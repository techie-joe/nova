(()=>{"use strict";(()=>{if(!["localhost","techie-joe.github.io","themejs.pages.dev"].find((e=>window.location.host.endsWith(e))))return;const e=window,t=document,r=t.documentElement||t.body,s=e=>typeof e,o=e=>Object.prototype.toString.call(e),a="",n=s(a),c=o([]),d=e=>s(e)===n,i=Array.isArray||(e=>o(e)===c),l=e=>{throw"Fail to "+e},m=(e,t,r,s)=>{e.addEventListener(t,r,s)},h=(e,t,r)=>{try{const s=e=>new Set((e||"").split(/\s+/).filter(Boolean)),o=s(t),a=s(r);for(const t of o)e.classList.remove(t);for(const t of a)e.classList.add(t)}catch(e){l("updateClass")}},g=(e,t,r)=>{e.setAttribute(t,r)},u=(()=>{const{localStorage:t}=e,r=e=>{e?t.removeItem(e):l("remove "+e)};return{set:(e,s)=>{e?d(s)?t.setItem(e,s):r(e):l("set "+e)},get:e=>e?t.getItem(e):(l("get "+e),null),remove:r}})();(()=>{const s="theme",o="themes",n="_dark",c="color-scheme",l=(w=(()=>{var e=t.getElementById("_color_scheme");if(!e){var r=t.getElementsByName(c);i(r)&&(e=r[r.length-1])}if(!e){e=t.createElement("meta");var s=[["name",c]];for(var o in s)g(e,s[o][0],s[o][1]);t.head&&t.head.appendChild(e)}return e})(),{set:e=>{w&&g(w,"content",e)}}),f=(e,t)=>{var n=L||a;i(e)&&(b=e,u.set(o,JSON.stringify(b)),e=b[d(t)?b.indexOf(t||a):0]),L=d(e)&&e||a,h(r,n,L),p(L),u.set(s,L)},v=()=>{f(b[b.indexOf(L||a)+1]||a)},p=e=>{e&&"_d"===e.substring(0,2)?l.set("dark"):l.set("light")},y=e.matchMedia("(prefers-color-scheme: dark)");var w,E=(e=>{try{return e&&JSON.parse(e)}catch(t){console.error("Fail to parse stored themes: "+e)}return null})(u.get(o)),O=u.get(s),b=E||[n],L=d(O)?O:y.matches?n:a;t.addEventListener("DOMContentLoaded",(()=>{h(r,"_hidden",L),p(L)})),m(y,"change",(e=>{e.matches?f(n):f()})),m(e,"keyup",(e=>{e.altKey&&"KeyT"===e.code&&v()})),e.theme={reset:()=>{b=[n];var e=L||a;L=y.matches?n:a,h(r,e,L),p(L),u.remove(s),u.remove(o)},set:f,change:v,list:()=>b,current:()=>L,fn:{updateClass:h,storage:u}}})()})()})();