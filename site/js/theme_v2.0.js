(()=>{"use strict";(()=>{const e="",t=window,{log:r,error:s}=console;if(atob(t._host||e).split(",").indexOf(t.location.host)<0)return;const n=document,a=n.documentElement||n.body,o=t.matchMedia("(prefers-color-scheme: dark)"),c=localStorage,i=e=>Object.prototype.toString.call(e),l=e=>typeof e,d=e=>l(e)===l(""),m=Array.isArray?e=>Array.isArray(e):e=>i(e)===i([]),h=(e,t,r)=>{e.setAttribute(t,r)},y=e=>new Set((e||"").split(/\s+/).filter(Boolean)),f=(e,t,r)=>{for(const r of y(t))e.classList.remove(r);for(const t of y(r))e.classList.add(t)},u="theme",v="themes",g="_dark",p=[e,g];let O=(E=c.getItem(v),d(E)&&(e=>{if(d(e))try{return JSON.parse(e)}catch(e){}})(E||e)||p),I=(()=>{var t=c.getItem(u);return d(t)?t||e:o.matches?g:e})();var E;const b=(()=>{const e="color-scheme",t=(()=>{var t=n.getElementById("_color_scheme");if(!t){var r=n.getElementsByName(e);t=r[r.length-1]}return t||(t=n.createElement("meta"),h(t,"name",e),n.head&&n.head.appendChild(t)),t})(),r=e=>{h(t,"content",e)};return{set:r,sync:e=>{r(e&&d(e)&&e.startsWith(g)?"dark":"light")}}})(),A=(t,r)=>{var s=I;d(t)?I=t:m(t)&&(O=t,c.setItem(v,JSON.stringify(O)),I=O[r&&d(r)?O.indexOf(r):0]||e),s!=I&&(f(a,s,I),b.sync(I),c.setItem(u,I||e))},L=()=>{var t=O[O.indexOf(I)+1];A(d(t)?t:O[0]||e)};var S,k,_;n.addEventListener("DOMContentLoaded",(()=>{b.sync(I),f(a,null,I)})),S=e=>{e.altKey&&"KeyT"===e.code&&L()},t.addEventListener("keyup",S,undefined),t.theme=(k=t.theme,_={reset:()=>{O=p;var t=I;I=o.matches?g:e,f(a,t,I),b.sync(I),c.removeItem(u),c.removeItem(v)},set:A,change:L,updateClass:f,list:()=>O,current:()=>I},Object.assign(k||{},_))})()})();