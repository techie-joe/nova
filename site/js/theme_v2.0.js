(()=>{"use strict";(()=>{const e="",t=window,{log:r,error:s}=console;if(atob(t._host||e).split(",").indexOf(t.location.host)<0)return;const n=document,a=n.documentElement||n.body,o=t.matchMedia("(prefers-color-scheme: dark)"),c=localStorage,i=e=>Object.prototype.toString.call(e),d=e=>typeof e,l=e=>d(e)===d(""),m=Array.isArray?e=>Array.isArray(e):e=>i(e)===i([]),h=(e,t,r)=>{e.setAttribute(t,r)},y=e=>new Set((e||"").split(/\s+/).filter(Boolean)),f=(e,t,r)=>{for(const r of y(t))e.classList.remove(r);for(const t of y(r))e.classList.add(t)},u="theme",v="themes",g="_dark",p=[e,g],O=()=>{var t=c.getItem(v);return l(t)&&(e=>{if(l(e))try{return JSON.parse(e)}catch(e){}})(t||e)||p},E=()=>{var t=c.getItem(u);return l(t)?t||e:o.matches?g:e};let I=O(),L=E();const b=(()=>{const e="color-scheme",t=(()=>{var t=n.getElementById("_color_scheme");if(!t){var r=n.getElementsByName(e);t=r[r.length-1]}return t||(t=n.createElement("meta"),h(t,"name",e),n.head&&n.head.appendChild(t)),t})(),r=e=>{h(t,"content",e)};return{set:r,sync:e=>{r(e&&l(e)&&e.startsWith(g)?"dark":"light")}}})(),A=(t,r)=>{var s=L;l(t)?L=t:m(t)&&(I=t,c.setItem(v,JSON.stringify(I)),L=I[r&&l(r)?I.indexOf(r):0]||e),s!=L&&(f(a,s,L),b.sync(L),c.setItem(u,L||e))},S=()=>{var t=I[I.indexOf(L)+1];A(l(t)?t:I[0]||e)};var k,w,_;n.addEventListener("DOMContentLoaded",(()=>{f(a,null,L),b.sync(L)})),t.addEventListener("pageshow",(e=>{if(e.persisted){var t=L;I=O(),L=E(),f(a,t,L),b.sync(L)}})),k=e=>{e.altKey&&"KeyT"===e.code&&S()},t.addEventListener("keyup",k,undefined),t.theme=(w=t.theme,_={reset:()=>{I=p;var t=L;L=o.matches?g:e,f(a,t,L),b.sync(L),c.removeItem(u),c.removeItem(v)},set:A,change:S,updateClass:f,list:()=>I,current:()=>L},Object.assign(w||{},_))})()})();