extends _html

block append vars
  -
    pageid      = 'lab/menu'
    pageUrl     = siteUrl + '/lab/menu.html'
    title       = `Menu`
    description = 'Menu development'
  - htmlClass.push('fullview')

block append style
  +css('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css')
  style.
    .fullview #_view {
      overflow: auto scroll;scroll-behavior: smooth;padding-bottom:0;
      position: absolute; top: 0; right: 0; bottom: 40px; left: 0; height:auto; min-height:0;
    }
    #_main { padding-bottom:400px }

    ._outline {
      background-color:rgba(255, 0, 183, .15);
    }
    ._outline2 {
      outline: 1px solid rgba(0, 158, 36, .83);
      background-color:rgba(0, 158, 36, .15);
    }
    ._outline3 {
      outline: 1px solid rgba(0, 149, 141, 0.83);
      background-color:rgba(0, 149, 141, 0.15);
    }
    .f {
      padding:.25em .5em;
      text-align: center;
      font-size:.8em;
      user-select:none;
    }
    .f:hover {
      background-color:#8884;
    }

    a.__full,
    ._hover_show.__full,
    ._hover_show a.__full { display:block;text-align:left }

    ._hover_show { display:inline-block;position:relative }
    ._hover_show > ._content {
      position:absolute;
      z-index:1;top:100%;left:0;
      overflow:hidden;
      transition:width .2s ease .2s, height .2s ease .2s;
      width:0px;height:0px;
    }
    ._hover_show._hover > ._content,
    ._hover_show:hover > ._content { width:300px;height:300px }
    ._hover_show ._hover_show > ._content { left: 1rem }

    ._box { display:block;position:relative }
    ._box > .__case {
      overflow:hidden;
      transition:width .2s ease, height .2s ease;
      width:0px;height:0px;
    }
    ._box .__card { height:100% }

    ._foac ._scrollable { white-space:nowrap !important;overflow:hidden !important }

  //- style.

    ._a a._hover_show:visited,
    ._a a._hover_show:hover,
    ._a a._hover_show { color:inherit;text-decoration:none }

  //- style.

mixin fit
  .f._outline._fit&attributes(attributes): block
mixin fix
  .f._outline2._f&attributes(attributes): block
mixin flex
  .f._outline3._f&attributes(attributes): block
mixin flexx(n)
  - for (let i = 0; i < n ; i++)
    .f._outline(class="_f"+n) Flex #{n}

mixin ax(href,title)
  a(href=href||'#' title=title onclick=onclick())._no_wrap&attributes(attributes): block

mixin _ax(href,title)
  +l
  a(href=href||'#' title=title onclick=onclick())._no_wrap&attributes(attributes): block

mixin _menu_a(id)
  style.
    #menu_a._hover > ._content,
    #menu_a:focus > ._content,
    #menu_a:hover > ._content { width:150px;height:150px }
    #menu_a .content { height:100% }
    #menu_a ._scrollable { height:100% }
  span(id=id)._hover_show._hoverx
    +ax._a1m: block
    ._content: .content._color_1._border: ._scrollable
      //- .boxline._pa_5._small| // menu
      +ax.__full._a1m|#[+isvg(svgi.home,'_licon')]Home
      hr._m0
      ._flex
        div: +ax._a1m: +isvg(svgi.bars,'_cicon')
        ._fill: +ax._a1m| Link
        div: +ax._a1m: +isvg(svgi.ellipsis,'_cicon')
      hr._m0
      +repeat(4): +ax.__full._a1m Link

mixin box(id,c1,c2)
  nav(id=id)._box._borderbox: .__case._borderbox
    .__card._fullcase._borderbox(class=c1): .__cardi._fullcase._borderbox._scrollable(class=c2)
      .__content._borderbox&attributes(attributes): block

block article
  article._article._container

    //- section._mv._flex._gap

      div
        style.
          #sidemenu .content { width:200px;min-height:150px;max-height:150px }
          #sidemenu .boxline { height:150% }
        aside#sidemenu._click_show.open: ._content
          .content._scrollable._color_1
            ._color_1
              +ax.__full._a1m|#[+isvg(svgi.home,'_licon')]Home
              //- li
                style.
                  #menu_b .content { width:200px;height:150px }
                  #menu_b .boxline { height:150% }
                span#menu_b._hover_show._hoverx
                  +ax.__full._a1m| Menu#[+isvg(svgi.caret,'_ricon')._rotate90]
                  ._content: .content._color_1._border._scrollable
                    .boxline._pa_5._small| // menu

              hr._m0
              ._flex
                div: +ax._a1m: +isvg(svgi.bars,'_cicon')
                ._fill: +ax._a1m| Link
                div: +ax._a1m: +isvg(svgi.ellipsis,'_cicon')
              hr._m0
              +repeat(4): +ax.__full._a1m Link

      div(style="width:150px"): ._color_1
        +ax.__full._a1m|#[+isvg(svgi.home,'_licon')]Home
        hr._m0
        ._flex
          div: +ax._a1m: +isvg(svgi.bars,'_cicon')
          ._fill: +ax._a1m| Link
          div: +ax._a1m: +isvg(svgi.ellipsis,'_cicon')
        hr._m0
        +ax.__full._a1m Link
        hr._m0

        style.
          #menu_va .content { width:200px;height:auto }
          #menu_va .boxline { height:150% }
        span#menu_va._hover_show._hoverx.__full
          +ax._a1m.__full| Menu#[+isvg(svgi.caret,'_ricon')._rotate90]
          ._content: .content._color_1._border._scrollablex
            //- .boxline._pa_5._small| // menu
            ._color_1
              +ax.__full._a1m|#[+isvg(svgi.home,'_licon')]Home
              hr._m0
              ._flex
                div: +ax._a1m: +isvg(svgi.bars,'_cicon')
                ._fill: +ax._a1m| Link
                div: +ax._a1m: +isvg(svgi.ellipsis,'_cicon')
              hr._m0

              style.
                #menu_vva .content { width:200px;height:150px }
                #menu_vva .boxline { height:150% }
              span#menu_vva._hover_show._hoverx.__full
                +ax._a1m.__full| Menu#[+isvg(svgi.caret,'_ricon')._rotate90]
                ._content: .content._color_1._border._scrollable
                  //- .boxline._pa_5._small| // menu
                  ._color_1
                    +ax.__full._a1m|#[+isvg(svgi.home,'_licon')]Home
                    hr._m0
                    ._flex
                      div: +ax._a1m: +isvg(svgi.bars,'_cicon')
                      ._fill: +ax._a1m| Link
                      div: +ax._a1m: +isvg(svgi.ellipsis,'_cicon')
                    hr._m0
                    +repeat(4): +ax.__full._a1m Link

              +repeat(1): +ax.__full._a1m Link

        //- +axm('Menu')#m21.__absolute: ._color_1(style="width:220px"): ._pa_5._small| // more menues
        //- +axm('Menu')#m22: ._color_1(style="width:220px"): ._pa_5._small| // more menues

      div(style="width:150px"): ._color_1._pa_5._radius_5
        +ax.__full._a2|#[+isvg(svgi.home,'_licon')]Home
        hr._mv_25
        ._flex
          div: +ax._a2: +isvg(svgi.bars,'_cicon')
          ._fill: +ax._a2| Link
          div: +ax._a2: +isvg(svgi.ellipsis,'_cicon')
        hr._mv_25
        +ax.__full._a2 Link
        //- hr._mv_25
        //- +axm('Menu')#m31.__absolute: ._color_1(style="width:220px"): ._pa_5._small| // more menues
        //- +axm('Menu')#m32: ._color_1(style="width:220px"): ._pa_5._small| // more menues

    section._mv
      nav._color_1._flex
        ._f._indiv
          +_menu_a| Menu#[+isvg(svgi.caret,'_ricon')._rotate90]
        ._fill

    hr
    section._mv._flex(style="min-height:100px")
      ._color_1
        +a.__full._a1m(onclick=onclick('toggleMenu("sideFour");'))| #[+isvg(svgi.arrow,'_licon')] Four
        +a.__full._a1m(onclick=onclick('toggleMenu("sideThree");'))| #[+isvg(svgi.arrow,'_licon')] Three
        +a.__full._a1m(onclick=onclick('toggleMenu("sideTwo");'))| #[+isvg(svgi.arrow,'_licon')] Two
        +a.__full._a1m(onclick=onclick('toggleMenu("sideOne");'))| #[+isvg(svgi.arrow,'_licon')] One

      div
        style.
          #sideFour { z-index:2 }
          #sideFour .__case { position:absolute }
          #sideFour.open .__case { width:250px;height:200px }
          #sideFour .__content   { height:150% }
        +box('sideFour','_pa_5','_color_1 _border')._pa_5._small| // sideFour

      div
        style.
          #sideThree { height:100% }
          #sideThree.open .__case { width:200px;height:100% }
          #sideThree .__content   { height:150% }
        +box('sideThree','_pa_5','_color_1 _border')._pa_5._small| // sideThree

      div
        style.
          #sideTwo { z-index:2 }
          #sideTwo .__case { position:absolute }
          #sideTwo.open .__case { width:250px;height:200px }
          #sideTwo .__content   { height:150% }
        +box('sideTwo',null,'_color_1 _border_left')._pa_5._small| // sideTwo

      div
        style.
          #sideOne { height:100% }
          #sideOne.open .__case { width:200px;height:100% }
          #sideOne .__content   { height:150% }
        +box('sideOne',null,'_color_1 _border_left')._pa_5._small| // sideOne

      ._fill._scrollable._scroll_y._fullcase: ._container: ._flex._gap_5
        ._full._flex._gap_5
          .f._outline._full| Full
          .f._outline2._f| Fix
          .f._outline._fit| Fit
          .f._outline._fill| Fill
        ._full._flex._gap_5
          +flex(style="flex:1 1 300px")| 300px
          +flex(style="flex:1 1 200px")| 200px
          +flex(style="flex:1 1 100px")| 100px
          +flex(style="flex:1 1 50px")| 50px
          +fit(style="flex-basis:180px")| Fit

    hr
    section._mv

      nav._color_1._flex
        +a._a1m(onclick=onclick('toggleMenu("menu_one");') title="Open menu_one")| #[+isvg(svgi.bars,'_cicon')]
        ._f._indiv
          +a._a1m(onclick=onclick('toggleMenu("menu_two");') title="Open menu_two")| #[+isvg(svgi.home,'_licon')]Two
          +a._a1m(onclick=onclick('toggleMenu("menu_three");') title="Open menu_three")| Three
          +a._a1m(onclick=onclick('toggleMenu("menu_four");') title="Open menu_four")| Four
        ._fill
        +ax._a1m(onclick=onclick('toggleMenu("menu_right");') title="More ..")| #[+isvg(svgi.ellipsis,'_cicon')]

    hr
    section._mv

      nav._color_1._flex
        +a._a1m(onclick=onclick('toggleMenu("menu_one");') title="Open menu_one")| #[+isvg(svgi.bars,'_cicon')]
        ._f._indiv
          +a._a1m(onclick=onclick('toggleMenu("menu_two");') title="Open menu_two")| #[+isvg(svgi.home,'_licon')]Two
          +a._a1m(onclick=onclick('toggleMenu("menu_three");') title="Open menu_three")| Three
          +a._a1m(onclick=onclick('toggleMenu("menu_four");') title="Open menu_four")| Four
        ._fill
        +ax._a1m(onclick=onclick('toggleMenu("menu_right");') title="More ..")| #[+isvg(svgi.ellipsis,'_cicon')]

      style.
        #menu_right .__case { margin-left:auto }
        #menu_right.open .__case { width:100%;height:150px }
        #menu_right .__content   { height:150% }
      +box('menu_right',null,'_color_1 _border_top')._pa_5._small| // menu_right

      style.
        #menu_one.open .__case { width:100%;height:150px }
        #menu_one .__content   { height:150% }
      +box('menu_one',null,'_color_1 _border_top')._pa_5._small| // menu_one

      style.
        #menu_two .__case { position:absolute }
        #menu_two.open .__case { width:100%;height:150px }
        #menu_two .__content   { height:150% }
      +box('menu_two',null,'_color_1 _border_top')._pa_5._small| // menu_two

      style.
        #menu_three.open .__case { width:100%;height:150px }
        #menu_three .__content   { height:150% }
      +box('menu_three','_pa_5','_color_1 _border')._pa_5._small| // menu_three

      style.
        #menu_four .__case { position:absolute }
        #menu_four.open .__case { width:100%;height:150px }
        #menu_four .__content   { height:150% }
      +box('menu_four','_pa_5','_color_1 _border')._pa_5._small| // menu_four

    hr

    section._mv._flex._gap_5

      nav._f: ._color_1._radius_5._ph_5
        +ax._a1m: +isvg(svgi.bars,'_cicon')
        +ax._a1m| Link
        +ax._a2t| Link
        +ax._a1m: +isvg(svgi.ellipsis,'_cicon')

      nav._f: ._color_1._radius_5._pa_5
        +ax._a2t: +isvg(svgi.bars)
        +ax._a2t| Link
        +ax._a2t: +isvg(svgi.ellipsis)

      nav._f: ._color_1._radius_5._pa_5
        +ax._a2: +isvg(svgi.bars,'_cicon')
        +ax._a2| Link
        +ax._a2: +isvg(svgi.ellipsis,'_cicon')

      nav._f: ._color_1._radius_5._pa_5
        +ax._a3: +isvg(svgi.bars,'_cicon')
        +ax._a3| Link
        +ax._a3: i._icon._cicon|&middot;&middot;

    hr

block append script
  script.
    (()=>{
      const
        w = window,
        d = document;
      w.toggleMenu = (id)=>{
        var e = d.getElementById(id);if(e){
          if(!e.classList.contains('open')){
            e.classList.add('open');
            e.classList.add('_foac');
            setTimeout(x=>{e.classList.remove('_foac')},200);
          }
          else {
            e.classList.remove('open');
            e.classList.add('_foac');
            setTimeout(x=>{e.classList.remove('_foac')},200);
          }
        }
      }
    })();
  //- script.