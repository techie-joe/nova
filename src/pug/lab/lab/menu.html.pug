extends _html

block append vars
  -
    pageid      = 'lab/menu'
    pageUrl     = siteUrl + '/lab/menu.html'
    title       = `Menu`
    description = 'Menu development'
  - htmlClass.push('fullview')

block append style
  +css('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css')
  style.
    .fullview #_view {
      overflow: auto scroll;scroll-behavior: smooth;padding-bottom:0;
      position: absolute; top: 0; right: 0; bottom: 40px; left: 0; height:auto; min-height:0;
    }
    #_main { padding-bottom:400px }

    a.__full,
    ._hover_show.__full,
    ._hover_show a.__full { display:block;text-align:left }

    ._hover_show { display:inline-block;position:relative }
    ._hover_show > ._content {
      position:absolute;
      z-index:1;top:100%;left:0;
      overflow:hidden;
      transition:width .2s ease .2s, height .2s ease .2s;
      width:0px;height:0px;
    }
    ._hover_show._hover > ._content,
    ._hover_show:hover > ._content { width:300px;height:300px }
    ._hover_show ._hover_show > ._content { left: 1rem }

    ._box { display:block;position:relative }
    ._box > .__case {
      overflow:hidden;
      transition:width .2s ease, height .2s ease;
      width:0px;height:0px;
    }
    ._box .__card { height:100% }

    ._foac,._foac * { white-space:nowrap !important;overflow:hidden !important }

  //- style.

    ._a a._hover_show:visited,
    ._a a._hover_show:hover,
    ._a a._hover_show { color:inherit;text-decoration:none }

  //- style.

mixin ax(href,title)
  a(href=href||'#' title=title onclick=onclick())._no_wrap&attributes(attributes): block

mixin _ax(href,title)
  +l
  a(href=href||'#' title=title onclick=onclick())._no_wrap&attributes(attributes): block

mixin _menu_a(id)
  style.
    #menu_a._hover > ._content,
    #menu_a:focus > ._content,
    #menu_a:hover > ._content { width:150px;height:150px }
    #menu_a .content { height:100% }
    #menu_a ._scrollable { height:100% }
  span(id=id)._hover_show._hoverx
    +ax._a1m: block
    ._content: .content._color_1._border: ._scrollable
      //- .boxline._pa_5._small| // menu
      +ax.__full._a1m|#[+isvg(svgi.home,'_licon')]Home
      hr._m0
      ._flex
        div: +ax._a1m: +isvg(svgi.bars,'_cicon')
        ._fill: +ax._a1m| Link
        div: +ax._a1m: +isvg(svgi.ellipsis,'_cicon')
      hr._m0
      +repeat(4): +ax.__full._a1m Link

block article
  article._article._container

    //- section._mv._flex._gap

      div
        style.
          #sidemenu .content { width:200px;min-height:150px;max-height:150px }
          #sidemenu .boxline { height:150% }
        aside#sidemenu._click_show.open: ._content
          .content._scrollable._color_1
            ._color_1
              +ax.__full._a1m|#[+isvg(svgi.home,'_licon')]Home
              //- li
                style.
                  #menu_b .content { width:200px;height:150px }
                  #menu_b .boxline { height:150% }
                span#menu_b._hover_show._hoverx
                  +ax.__full._a1m| Menu#[+isvg(svgi.caret,'_ricon')._rotate90]
                  ._content: .content._color_1._border._scrollable
                    .boxline._pa_5._small| // menu

              hr._m0
              ._flex
                div: +ax._a1m: +isvg(svgi.bars,'_cicon')
                ._fill: +ax._a1m| Link
                div: +ax._a1m: +isvg(svgi.ellipsis,'_cicon')
              hr._m0
              +repeat(4): +ax.__full._a1m Link

      div(style="width:150px"): ._color_1
        +ax.__full._a1m|#[+isvg(svgi.home,'_licon')]Home
        hr._m0
        ._flex
          div: +ax._a1m: +isvg(svgi.bars,'_cicon')
          ._fill: +ax._a1m| Link
          div: +ax._a1m: +isvg(svgi.ellipsis,'_cicon')
        hr._m0
        +ax.__full._a1m Link
        hr._m0

        style.
          #menu_va .content { width:200px;height:auto }
          #menu_va .boxline { height:150% }
        span#menu_va._hover_show._hoverx.__full
          +ax._a1m.__full| Menu#[+isvg(svgi.caret,'_ricon')._rotate90]
          ._content: .content._color_1._border._scrollablex
            //- .boxline._pa_5._small| // menu
            ._color_1
              +ax.__full._a1m|#[+isvg(svgi.home,'_licon')]Home
              hr._m0
              ._flex
                div: +ax._a1m: +isvg(svgi.bars,'_cicon')
                ._fill: +ax._a1m| Link
                div: +ax._a1m: +isvg(svgi.ellipsis,'_cicon')
              hr._m0

              style.
                #menu_vva .content { width:200px;height:150px }
                #menu_vva .boxline { height:150% }
              span#menu_vva._hover_show._hoverx.__full
                +ax._a1m.__full| Menu#[+isvg(svgi.caret,'_ricon')._rotate90]
                ._content: .content._color_1._border._scrollable
                  //- .boxline._pa_5._small| // menu
                  ._color_1
                    +ax.__full._a1m|#[+isvg(svgi.home,'_licon')]Home
                    hr._m0
                    ._flex
                      div: +ax._a1m: +isvg(svgi.bars,'_cicon')
                      ._fill: +ax._a1m| Link
                      div: +ax._a1m: +isvg(svgi.ellipsis,'_cicon')
                    hr._m0
                    +repeat(4): +ax.__full._a1m Link

              +repeat(1): +ax.__full._a1m Link

        //- +axm('Menu')#m21.__absolute: ._color_1(style="width:220px"): ._pa_5._small| // more menues
        //- +axm('Menu')#m22: ._color_1(style="width:220px"): ._pa_5._small| // more menues

      div(style="width:150px"): ._color_1._pa_5._radius_5
        +ax.__full._a2|#[+isvg(svgi.home,'_licon')]Home
        hr._mv_25
        ._flex
          div: +ax._a2: +isvg(svgi.bars,'_cicon')
          ._fill: +ax._a2| Link
          div: +ax._a2: +isvg(svgi.ellipsis,'_cicon')
        hr._mv_25
        +ax.__full._a2 Link
        //- hr._mv_25
        //- +axm('Menu')#m31.__absolute: ._color_1(style="width:220px"): ._pa_5._small| // more menues
        //- +axm('Menu')#m32: ._color_1(style="width:220px"): ._pa_5._small| // more menues
    
    hr
    section._mv._flex(style="height:100px")
      div: ._color_1
        +a.__full._a1m(onclick=onclick('toggleMenu("regular");'))| #[+isvg(svgi.bars,'_licon')] Regular
        +a.__full._a1m(onclick=onclick('toggleMenu("absolute");'))| #[+isvg(svgi.bars,'_licon')] Absolute

      div
        style.
          #regular { position:relative;z-index:2 }
          #regular.open ._content { width:200px;height:150px }
          #regular .content  { height:100% }
          #regular .boxline  { height:150% }
        #regular._click_show: ._content
          .content._scrollable._color_1: .boxline._pa_5._small| // regular menu

      div
        style.
          #absolute { position:absolute;z-index:2 }
          #absolute.open ._content { width:200px;height:150px }
          #absolute .content { height:100% }
          #absolute .boxline { height:150% }
        #absolute._click_show: ._content
          .content._scrollable._color_1: .boxline._pa_5._small| // absolute menu

      ._fill._scrollable._fullcase: ._container: ._small._mono
        | content
        //- |#[+repeat(100)| way too long ]

    section._mv

      nav#menu_1._color_1._flex
        +a._a1m(onclick=onclick('toggleMenu("menu_one");') title="Open menu_one")| #[+isvg(svgi.bars,'_licon')]One
        +a._a1m(onclick=onclick('toggleMenu("menu_two");') title="Open menu_two")| #[+isvg(svgi.bars,'_licon')]Two
        ._f._indiv
          +_menu_a| Menu#[+isvg(svgi.caret,'_ricon')._rotate90]
          +ax._a1m| Link

        ._fill
        +ax._a1m(onclick=onclick('toggleMenu("menu_three");') title="More ..")| #[+isvg(svgi.ellipsis,'_cicon')]

      style.
        #menu_three.open .__case { width:100%;height:150px;margin-left:auto }
        #menu_three .__content   { height:150% }
      aside#menu_three._box.openx: .__case
        hr._m0
        .__card._scrollable._color_1
          .__content.boxline._pa_5._small| // menu_three

      style.
        #menu_one.open .__case { width:100%;height:150px }
        #menu_one .__content   { height:150% }
      aside#menu_one._box.openx: .__case
        hr._m0
        .__card._scrollable._color_1
          .__content.boxline._pa_5._small| // menu_one

      style.
        #menu_two.open .__case { width:100%;height:150px }
        #menu_two .__content   { height:150% }
      aside#menu_two._box.openx: .__case
        .__card._borderbox._pa: ._fullcase._scrollable._color_1._border
          .__content.boxline._pa_5._small| // menu_two

    hr

    section._mv._flex._gap_5

      nav._f: ._color_1._radius_5._ph_5
        +ax._a1m: +isvg(svgi.bars,'_cicon')
        +ax._a1m| Link
        +ax._a1m: +isvg(svgi.ellipsis,'_cicon')

      nav._f: ._color_1._radius_5._pa_5
        +ax._a2t: +isvg(svgi.bars)
        +ax._a2t| Link
        +ax._a2t: +isvg(svgi.ellipsis)

      nav._f: ._color_1._radius_5._pa_5
        +ax._a2: +isvg(svgi.bars,'_cicon')
        +ax._a2| Link
        +ax._a2: +isvg(svgi.ellipsis,'_cicon')

      nav._f: ._color_1._radius_5._pa_5
        +ax._a3: +isvg(svgi.bars,'_cicon')
        +ax._a3| Link
        +ax._a3: i._icon._cicon|&middot;&middot;

    hr

block append script
  script.
    (()=>{
      const
        w = window,
        d = document;
      w.toggleMenu = (id)=>{
        var e = d.getElementById(id);if(e){
          if(!e.classList.contains('open')){
            e.classList.add('open');
            e.classList.add('_foac');
            setTimeout(x=>{e.classList.remove('_foac')},200);
          }
          else {
            e.classList.remove('open');
            e.classList.add('_foac');
            setTimeout(x=>{e.classList.remove('_foac')},200);
          }
        }
      }
    })();
  //- script.